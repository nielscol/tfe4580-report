\begin{itemize}
	\item Discuss choices made in simulator
	\begin{itemize}
		\item Deficiencies, advantages, why they were made
		\item Phase noise/lock time analysis
		\item Analysis - monte-carlo variation to analyze stability/lock time
		\item purpose: to validate filter design
	\end{itemize}
	\item Filter structure choice - PI with added pole. Why is this best (low complexity, no phase error)
	\item Why only phase random walk in oscillator phase noise
	\item Why direct type I implementation
	\item Discuss choices made in loop filter designer/optimizer
	\begin{itemize}
		\item Why only optimize for TDC/DCO phase noise initially - (other noise sources are easier to reduce below the limits of these two). Flicker noise ignore due to time resolution limitations, expectation that reference flicker> PLL flicker components as reference flicker with be multiplied by N at output.
		\item Plot showing BW vs noise components, motivates optimization approach. PN min when TDC and DCO components roughly equal.
		\item Discuss why ref flicker noise doesn't matter (it can't be altered by PLL so it doesn't matter for optimization)
		\item Optimizer approach: minimization of phase noise constrained by lock time (BFGS optimizer)
		\item Second order optimization of filter design for data representation precision with discrete time considerations (first order design is with approximations from continuous PLL model). Discretized LF noise via simulation with input noise
		\item Recommendations for divider noise limit
		\item Design verification
	\end{itemize}
	\item State of art comparison
	\begin{itemize}
		\item Compare to state of art/existing frameworks
		\item What are improvements made here?
		\item Perrot's pre-existing work: general purpuse simulation architecture, doesn't directly handle optimization for integer-N, especially in heavily quantized case
	\end{itemize}
	\item Design example - compare to existing
	\begin{itemize}
		\item Design 2.4G PLL for WuRx, show results from process
		\item Repeat in CPPsim, compare results?
		\item Explain advantage of this framework based on exercise
	\end{itemize}
	\item Discuss limitations and considerations for use of framework
	\begin{itemize}
		\item Models are not accurate for frequencies near or greater than reference frequency???
		\item Sampling rate recommendations (high oversampling)
		\item Minimum choice of TDC resolution, constraints for divider jitter,
	\end{itemize}
\end{itemize}

	Recommendations for maximum divider jitter, loop filter resolution
	\subsection{Divider noise constraint}
		Output refered phase noise PSD of TDC:
		\begin{equation}
			S_{\Phi n_{TDC,out}} = \frac{1}{12 f_{ref}}\left|2\pi\frac{N}{M} G(f) \right|^2
		\end{equation}
		Output refered phase noise PSD of divider:
		\begin{equation}
			S_{\Phi n_{div, out}} = f_{ref} \left|2\pi N \sigma_{tn_{div}} G(f)\right|^2
		\end{equation}
		The output-referred phase noise for the TDC and divider have the same frequency dependence. So by setting $S_{\Phi n_{div, out}} < S_{\Phi n_{TDC,out}}$, a constraint to force PLL output divider less than TDC noise can be found:
		\begin{equation}
			\sigma_{tn_{div}} < \frac{1}{\mathrm{M}f_{ref}} = \Delta t_{step_{TDC}}
		\end{equation}
		Must simply ensure that jitter of divider is much less than TDC resolution, which is a reasonable demand. Thus, it is reasonable to ignore divider noise in the phase noise optimization if divider noise can reasonably be made insignificant in the overall output phase noise.

\subsection{Example exercise}
\hl{Use WuRx design specs to motivate design example... put updated/better definition of specs relative to design example}
% \scriptsize
\begin{table}[h!]
	\centering
	\def\arraystretch{1.5}		
	\setlength\arrayrulewidth{0.75pt}
	\setlength{\tabcolsep}{1em} % for the horizontal padding
	\begin{tabular}{|l|r|l|l|}
		\hline 
		\rule[-1ex]{0pt}{2.5ex} \cellcolor{gray!40}\textbf{Parameter} & \cellcolor{gray!40}\textbf{Value} & \cellcolor{gray!40}\textbf{Unit }& \cellcolor{gray!40}\textbf{Notes}\\ 
		\hline 
		\rule[-1ex]{0pt}{2.5ex} \textbf{Frequency}  & 2.4-2.4835 & GHz & 2.4G ISM Band\\ 
		\hline 
		\rule[-1ex]{0pt}{2.5ex} \textbf{Ref. frequency} & 16 & MHz & Yields 6 channels \\ 
		\hline 
		\rule[-1ex]{0pt}{2.5ex} \textbf{Power} & $\leq$ 100  &$\mu$W & \\ 
		\hline 
		\rule[-1ex]{0pt}{2.5ex} \textbf{Residual FM} & $\leq$ 107  &kHz$_{RMS}$ & BER $\leq$ 1e-2, $f_{dev}$=$\pm$250 KHz\\ 
		\hline 
		\rule[-1ex]{0pt}{2.5ex} \textbf{Initial Lock Time} & $\leq$ 50 & $\mu$s & Upon cold start \\ 
		\hline 
		\rule[-1ex]{0pt}{2.5ex} \textbf{Re-lock Time} & $\leq$ 5 & $\mu$s & Coming out of standby \\ 
		\hline 
		\rule[-1ex]{0pt}{2.5ex} \textbf{Bandwidth} & 100 & kHz & (nominally), tunable \\ 
		\hline 
	\end{tabular} 
	% \caption{Assigned specifications for branch line hybrid design.}
	% \label{asgn_specs}
	\caption{System-level specifications}
\end{table}   
% \normalsize

% \scriptsize
\begin{table}[h!]
	\centering
	\def\arraystretch{1.5}		
	\setlength\arrayrulewidth{0.75pt}
	\setlength{\tabcolsep}{1em} % for the horizontal padding
	\begin{tabular}{|l|r|l|l|}
		\hline 
		\rule[-1ex]{0pt}{2.5ex} \cellcolor{gray!40}\textbf{Parameter} & \cellcolor{gray!40}\textbf{Value} & \cellcolor{gray!40}\textbf{Unit }& \cellcolor{gray!40}\textbf{Notes}\\ 
		\hline 
		\rule[-1ex]{0pt}{2.5ex} \textbf{DCO LSB Resolution}  & $\leq$ 50  & kHz & Determined from quantization noise.\\ 
		\hline 
		\rule[-1ex]{0pt}{2.5ex} \textbf{DCO DNL} & $<$ 1 & LSB & Ensures monotonicity \\ 
		\hline 
		\rule[-1ex]{0pt}{2.5ex} \textbf{TDC Resolution} & $\leq$ 3.8  & ns & \\ 
		\hline 
		\rule[-1ex]{0pt}{2.5ex} \textbf{TDC Resolution (bits)} & $\geq$ 4.03 &bits & \\ 
		\hline 
	\end{tabular} 
	\caption{Component-level specifications.}
	% \caption{Assigned specifications for branch line hybrid design.}
	% \label{asgn_specs}
\end{table}   

\FloatBarrier
% \normalsize